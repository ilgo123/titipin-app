import{c as i,u as p,a as u,r,s as f,j as e,L as y}from"./index-ClXmW7HF.js";import{C as g}from"./chevron-left-DLbePdLL.js";import{W as j}from"./wallet-BqOR6YG4.js";const N=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],b=i("arrow-down-left",N);const v=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],w=i("arrow-up-right",v);const k=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_=i("calendar",k);function M(){const l=p(),{user:s}=u(),[c,o]=r.useState([]),[d,n]=r.useState(!0);r.useEffect(()=>{s&&x()},[s]);const x=async()=>{n(!0);const{data:t,error:a}=await f.from("wallet_logs").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});a?console.error("Gagal ambil history:",a):o(t||[]),n(!1)},m=t=>new Intl.NumberFormat("id-ID").format(t||0),h=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsxs("div",{className:"bg-white sticky top-0 z-10 px-6 pt-6 pb-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(g,{size:24,className:"text-slate-900"})}),e.jsx("h1",{className:"text-xl font-black text-slate-900",children:"Riwayat Dompet ðŸ“œ"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Catatan keluar masuk uangmu."})]}),e.jsx("div",{className:"p-6 space-y-3",children:d?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(y,{className:"animate-spin text-slate-300"})}):c.length===0?e.jsxs("div",{className:"text-center py-20 opacity-50 flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-4 text-gray-400",children:e.jsx(j,{size:24})}),e.jsx("h3",{className:"font-bold text-gray-600",children:"Belum ada transaksi"})]}):c.map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t.type==="credit"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:t.type==="credit"?e.jsx(b,{size:20}):e.jsx(w,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-slate-900 capitalize",children:t.category||"Transaksi"}),e.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[e.jsx(_,{size:10})," ",h(t.created_at)]})]})]}),e.jsxs("div",{className:`text-right font-black ${t.type==="credit"?"text-green-600":"text-slate-900"}`,children:[t.type==="credit"?"+":"-"," Rp ",m(t.amount)]})]},t.id))})]})}export{M as default};
