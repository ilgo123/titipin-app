import{c as d,u,a as b,r as n,s as f,j as e,B as p}from"./index-ClXmW7HF.js";import{W as g}from"./wallet-BqOR6YG4.js";import{P as j}from"./plus-CFTPUeQ9.js";import{P as o}from"./package-D4vBBs2Z.js";import{L as v,U as w}from"./user-Be9LNIg5.js";const N=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],k=d("house",N);const y=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],z=d("plane",y);function S(){const s=u(),{user:t,checkSession:l}=b(),[r,c]=n.useState(0);n.useEffect(()=>{l(),x()},[]);const x=async()=>{const{count:a}=await f.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t?.id).eq("is_read",!1);c(a||0)},m=a=>new Intl.NumberFormat("id-ID").format(a||0),h=a=>a?a.charAt(0).toUpperCase():"U";return e.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] pb-32 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[280px] bg-white rounded-b-[3rem] shadow-sm z-0"}),e.jsxs("div",{className:"relative z-10 px-6 pt-10 flex flex-col gap-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",onClick:()=>s("/profile"),children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 border-2 border-white shadow-sm overflow-hidden flex items-center justify-center cursor-pointer",children:t?.avatar_url?e.jsx("img",{src:t.avatar_url,className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-bold text-slate-700 text-lg",children:h(t?.full_name)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-bold mb-0.5",children:"Selamat Datang,"}),e.jsx("h3",{className:"font-black text-slate-900 text-lg truncate max-w-[180px] leading-tight",children:t?.full_name||"Tamu"})]})]}),e.jsxs("button",{onClick:()=>s("/notifications"),className:"w-10 h-10 bg-white rounded-full border border-slate-100 text-slate-600 hover:bg-slate-50 transition-all flex items-center justify-center shadow-sm relative active:scale-95",children:[e.jsx(p,{size:20}),r>0&&e.jsx("span",{className:"absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl shadow-slate-200 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-[-50%] right-[-10%] w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:scale-110 transition-transform duration-700"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[e.jsx("div",{className:"p-1.5 bg-white/10 rounded-lg",children:e.jsx(g,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"TitipPay"})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-3xl font-black tracking-tight mb-1",children:["Rp ",m(t?.balance)]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Saldo aktif siap digunakan"})]}),e.jsxs("button",{onClick:()=>s("/topup"),className:"w-full bg-white text-slate-900 py-3.5 rounded-xl font-bold text-xs hover:bg-gray-100 active:scale-95 transition-all flex items-center justify-center gap-2 shadow-sm",children:[e.jsx(j,{size:18})," Isi Saldo Instan"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>s("/penitip"),className:"bg-white p-5 rounded-[2rem] shadow-sm border border-slate-50 hover:shadow-md hover:border-blue-100 active:scale-95 transition-all text-left group",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600 mb-3 group-hover:scale-110 transition-transform",children:e.jsx(o,{size:24,strokeWidth:2.5})}),e.jsx("h4",{className:"font-black text-slate-900 text-base mb-1",children:"Titip Barang"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium leading-relaxed",children:"Cari traveler yang searah"})]}),e.jsxs("button",{onClick:()=>s("/traveler"),className:"bg-white p-5 rounded-[2rem] shadow-sm border border-slate-50 hover:shadow-md hover:border-orange-100 active:scale-95 transition-all text-left group",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-full flex items-center justify-center text-orange-600 mb-3 group-hover:scale-110 transition-transform",children:e.jsx(z,{size:24,strokeWidth:2.5})}),e.jsx("h4",{className:"font-black text-slate-900 text-base mb-1",children:"Jadi Traveler"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium leading-relaxed",children:"Dapat cuan saat jalan-jalan"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-[2rem] p-6 text-white shadow-lg shadow-emerald-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute right-0 bottom-0 opacity-20 transform translate-x-4 translate-y-4",children:e.jsx(o,{size:120})}),e.jsxs("div",{className:"relative z-10 max-w-[70%]",children:[e.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-bold mb-3 border border-white/30",children:"PROMO"}),e.jsx("h4",{className:"font-bold text-xl mb-2 leading-tight",children:"Diskon Ongkir!"}),e.jsx("p",{className:"text-xs text-emerald-100 mb-4 opacity-90 leading-relaxed",children:"Titip barang dari Jepang hemat 50% minggu ini."})]})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-100 px-6 py-4 shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.1)] z-50",children:e.jsxs("div",{className:"flex justify-around items-center max-w-md mx-auto",children:[e.jsx(i,{icon:e.jsx(k,{size:24}),label:"Home",isActive:!0,onClick:()=>s("/")}),e.jsx(i,{icon:e.jsx(v,{size:24}),label:"Aktivitas",onClick:()=>s("/activity")}),e.jsx(i,{icon:e.jsx(w,{size:24}),label:"Akun",onClick:()=>s("/profile")})]})})]})}function i({icon:s,label:t,isActive:l,onClick:r}){return e.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 transition-all w-16 ${l?"text-slate-900 -translate-y-1":"text-gray-300 hover:text-slate-500"}`,children:[e.jsx("div",{className:`${l?"drop-shadow-md":""}`,children:s}),e.jsx("span",{className:"text-[10px] font-bold tracking-wide",children:t}),l&&e.jsx("div",{className:"w-1 h-1 bg-slate-900 rounded-full mt-0.5 animate-in fade-in zoom-in"})]})}export{S as default};
